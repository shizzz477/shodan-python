{"body": "<div class=\"section\" id=\"basic-shodan-search\">\n<h1>Basic Shodan Search<a class=\"headerlink\" href=\"#basic-shodan-search\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span></span><span class=\"ch\">#!/usr/bin/env python</span>\n<span class=\"c1\">#</span>\n<span class=\"c1\"># shodan_ips.py</span>\n<span class=\"c1\"># Search SHODAN and print a list of IPs matching the query</span>\n<span class=\"c1\">#</span>\n<span class=\"c1\"># Author: achillean</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">shodan</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n\n<span class=\"c1\"># Configuration</span>\n<span class=\"n\">API_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;YOUR_API_KEY&quot;</span>\n\n<span class=\"c1\"># Input validation</span>\n<span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n        <span class=\"k\">print</span> <span class=\"s1\">&#39;Usage: </span><span class=\"si\">%s</span><span class=\"s1\"> &lt;search query&gt;&#39;</span> <span class=\"o\">%</span> <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n\n<span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"c1\"># Setup the api</span>\n        <span class=\"n\">api</span> <span class=\"o\">=</span> <span class=\"n\">shodan</span><span class=\"o\">.</span><span class=\"n\">Shodan</span><span class=\"p\">(</span><span class=\"n\">API_KEY</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># Perform the search</span>\n        <span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"s1\">&#39; &#39;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:])</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># Loop through the matches and print each IP</span>\n        <span class=\"k\">for</span> <span class=\"n\">service</span> <span class=\"ow\">in</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s1\">&#39;matches&#39;</span><span class=\"p\">]:</span>\n                <span class=\"k\">print</span> <span class=\"n\">service</span><span class=\"p\">[</span><span class=\"s1\">&#39;ip_str&#39;</span><span class=\"p\">]</span>\n<span class=\"k\">except</span> <span class=\"ne\">Exception</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n        <span class=\"k\">print</span> <span class=\"s1\">&#39;Error: </span><span class=\"si\">%s</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">e</span>\n        <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n", "alabaster_version": "0.7.10", "display_toc": false, "title": "Basic Shodan Search", "sourcename": "examples/basic-search.rst.txt", "customsidebar": null, "metatags": "", "current_page_name": "examples/basic-search", "next": {"link": "../query-summary/", "title": "Collecting Summary Information using Facets"}, "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["examples/query-summary", "Collecting Summary Information using Facets", "N", "next"], ["tutorial", "Getting Started", "P", "previous"]], "meta": {}, "parents": [], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Basic Shodan Search</a></li>\n</ul>\n", "prev": {"link": "../../tutorial/", "title": "Getting Started"}, "page_source_suffix": ".rst"}